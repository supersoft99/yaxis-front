import React, { Fragment, useState, useMemo } from 'react'
import { Radio, Row, Col } from 'antd'
import Card from '../../Card'
import { LoadingOutlined } from '@ant-design/icons'
import { SelectableDay, dayOptions } from '../YaxisPriceGraph/utils'
import useWindowWidth from '../../../hooks/useWindowWidth'
import styled from 'styled-components'
import { usePrices } from '../../../state/prices/hooks'
import moment from 'moment'
import { defaultBaseTheme } from '../../../theme'

import {
	WithTooltip,
	Sparkline,
	LineSeries,
	PointSeries,
} from '@data-ui/sparkline'

const data = {
	values: [
		2.776036770582192, 2.8236156505746424, 2.860458379981795,
		2.927471804781448, 2.9208640465121056, 2.88125628266342,
		2.885285123891957, 2.885220334772889, 2.865486801108485,
		2.8642503810941284, 2.874342932335107, 2.8834229054516034,
		2.879546177458261, 2.8506540204463193, 2.9718578068576758,
		3.050003147026625, 3.0987650310223844, 3.2119892648403274,
		3.2411283373709225, 3.314864315707881, 3.3187786950669707,
		3.3096277212751164, 3.2938854703726936, 3.302717521542673,
		3.2956199713273886, 3.302167715649516, 3.3297559068169647,
		3.3204632553093734, 3.3219202347328993, 3.356428233224006,
		3.3606686954025675, 3.3263902619884305, 3.335552449669147,
		3.4177663779489325, 3.0695700523778253, 3.066136311837647,
		3.163974564002353, 3.211565473865876, 3.3883039061536855,
		3.4061334506882055, 3.3982935537661327, 3.423616496106974,
		3.4262296582435403, 3.4063485054048637, 3.4078112039077375,
		3.374071870519755, 3.231751944232079, 3.3372395301827504,
		3.3282494307143136, 3.3002208870061116, 3.4454798321936426,
		3.4810727478621724, 3.4254185508937804, 3.4447896875228463,
		3.433559273422776, 3.4064156278512927, 3.4489668731327665,
		3.3989342328183465, 3.4148959514988753, 3.36665607056636,
		3.3901658556393723, 3.357308459877859, 3.3776677700604187,
		3.049475154827943, 3.016500167049023, 3.0471680241559467,
		3.04132118020993, 3.0406851193116196, 3.092461265673206,
		3.0841380976348733, 3.1402174890028207, 3.175862132794589,
		3.1745684253960658, 3.1633335468178356, 3.181567367584466,
		3.1852478948581724, 3.18844308580555, 3.2136162011543754,
		3.160910589848426, 3.1777917972406677, 3.195790185362321,
		3.1750526742645397, 3.457545451698191, 3.388016906416931,
		3.397770027504211, 3.3904173248083467, 3.461220644853391,
		3.5049608991901793, 3.475098890509062, 3.488007211084685,
		3.3099873276763256, 3.4575222125789504, 3.4267754024535098,
		3.4031696478712457, 3.3767692906835656, 3.4109268054952175,
		3.4181796047810034, 3.3904468742478016, 3.2101331767107997,
		3.20139634537061, 3.231234924863685, 3.2973551956669915,
		3.2471278935767858, 3.2372549785801508, 3.3015972276611874,
		3.308906282458172, 3.392121560748495, 3.3557697858484192,
		3.3649751826050407, 3.383427846181229, 3.428908533262501,
		3.4507816665087283, 3.427257993402181, 3.423335137094629,
		3.435570958207646, 3.4167348909730224, 3.451416430633686,
		3.4214528344533246, 3.4999995437665237, 3.5202342010790124,
		3.5359557072675813, 3.5456704878993426, 3.537678834516094,
		3.5290139360508674, 3.339661442338462, 3.364562166121724,
		3.3529865795320264, 3.3748151176360333, 3.2283878451260146,
		3.2576693760965023, 3.2156739029357646, 3.2207894859848576,
		2.9047287301084954, 3.2101600628492837, 3.247883956786245,
		3.240288814086712, 3.300520705738691, 3.284099440416029,
		3.2757794844952346, 3.0094393979746545, 3.1346413625340683,
		3.152550066924809, 3.138995992065494, 3.135275615537355,
		3.1044538453055712, 3.110961734489788, 3.3611774226662186,
		3.3716227493858364, 3.395862773930684, 3.3748126153666287,
		3.4198075456081125, 3.382962828666115, 3.3615495246002878,
		3.422748314449262, 3.4015221966582083, 3.399988213629482,
		3.3945569541406364, 3.399648808519924, 3.4047536557861546,
		3.384510918455627, 3.37536508706363, 3.370990254204138,
		3.3619355680503324, 3.4547285333809046, 3.485565486558857,
		3.507577891092327, 3.6154007035256024, 3.6750753043433684,
		3.68045898009361, 3.6888289095905766, 3.744618108586824,
		3.5426613886190657, 3.5562926559667143, 3.570711199987895,
		3.5603342770907997, 3.5591068441109344, 3.5715886493048643,
		3.711404196148168, 3.6039893035618844, 3.530852033980218,
		3.538003599667405, 3.442383108730227, 3.4446961394819633,
		3.459940825467341, 3.3461179773146186, 3.3055078803374736,
		3.3099790535069675, 3.3207579087095342, 3.369776030966247,
		3.373898596447751, 3.2588762107477196, 3.261906769361599,
		3.265103123501331, 3.2708375153462956, 3.2796806363137816,
		3.270983566663715, 3.248202935056508, 3.2611463487161583,
		3.250303808696371, 3.2644745452397133, 3.2964664974911475,
		3.4178171376986763, 3.4144092311842824, 3.419529962095791,
		3.446053792969083, 3.4362493433301102, 3.410483873140426,
		3.4121291184061944, 3.386195173871476, 3.4220441924843334,
		3.5002886351634026, 3.469619856484169, 3.430137864534321,
		3.444550999949664, 3.446960955268532, 3.454412980843423,
		3.446103704915554, 3.4792005832561625, 3.475671288666207,
		3.4727346712509477, 3.4573982199561413, 3.478543439997865,
		3.5224416513988066, 3.5071911880550086, 3.518380574187073,
		3.5573865970133154, 3.5923587980001295, 3.544115546051441,
		3.522959874995323, 3.5016520305090264, 3.4810142528250343,
		3.5019362479976746, 3.5008300601712823, 3.5260344799047325,
		3.5340778383124034, 3.530894174644348, 3.5067165170941728,
		3.4714158742735832, 3.4233574473077852, 3.4361056513016117,
		3.4598999568935107, 3.478585268477642, 3.4762485062948754,
		3.497892904763085, 3.554911321449587, 3.506474406095005,
		3.4976258383215297, 3.4665195730989784, 3.4200167313134533,
		3.3826928757845662, 3.3470589101412394, 3.898225014687409,
		3.908699426765395, 3.988920785286903, 3.8808846579765897,
		3.8343251278694255, 3.789331986903941, 3.6911055174185052,
		3.691244212264657, 3.6562436262447604, 3.7352053083341152,
		3.7273284511488884, 3.6727735275437063, 3.7238873966487875,
		3.793818028891348, 3.8249735759794445, 3.8956572351231764,
		3.9276256010093085, 3.9428160381006383, 3.966196220580626,
		4.062397260719728, 4.1010828218702065, 3.9987727707499094,
		3.994990087043745, 4.157211459425854, 4.181955968531153,
		4.18735530674057, 4.229225494129361, 4.214872631695541,
		4.342947105606233, 4.340158998306749, 4.2563294598780494,
		4.855944383680076, 4.902735992440787, 4.986560605370725,
		4.966051910798612, 4.958071345422723, 4.933424114964533,
		5.025540567144645, 5.027241139605178, 5.026681831508548,
		5.009752625193219, 4.907932000454612, 4.8729058497672915,
		4.80508249857033, 4.824848019102706, 4.66575516890583,
		4.642365811118045, 4.604325218594595, 4.706880000611867,
		4.7548180794107955, 4.7584563289029935, 4.704663863027903,
		4.87903359016099, 5.168458867246883, 5.1674993509315374,
		5.1674993509315374, 5.185383727443067, 5.140808555097969,
		5.022714076816878, 5.0775585009892925, 5.1125423647744475,
		5.258514829754253, 5.231157590219154, 5.217604705996888,
		5.2257523549427285, 5.226245359998725, 5.046343194587366,
		4.985170701425226, 5.023264843109513, 5.135477309248063,
		5.056203135477987, 5.106778660223008, 5.102090549007856,
		5.054673143654331, 5.126551072380131, 5.075645586652662,
		4.994783396490107, 5.051179000555964, 5.035430468590754,
		5.063727596843669, 5.045543666730443, 5.019096850639103,
		5.252684539471449, 5.27961328589093, 5.23821096892839,
		5.222578900841248, 5.224249909430083, 5.2581630498824525,
		5.228372493363742, 5.27098745268846, 5.236799469104955,
		5.26230411871963, 5.2728403203288705, 5.400488805407888,
		5.460387091953618, 5.541449693894883, 5.543152065380897,
		5.637628291070539, 5.671331556576712, 5.59565786813482,
		5.506620187465744, 5.494237280377077, 5.493867866593371,
		5.54206043758865, 5.5572480355325995, 5.537085800453835,
		5.505554788138409, 5.531711747484263, 5.547654599456517,
		6.097720728666925, 5.509218247816305, 5.362470489147407,
		5.362748899644298, 5.325466182753425, 5.454783874595144,
		5.421532555949843, 5.491431052247396, 5.53235365571612,
		5.534345792970801, 5.510911501815248, 5.467228655401004,
		5.46565335224228, 5.428484041623609, 5.4543844741191,
		5.4318645233073495, 5.426854083049638, 5.3799763900342,
		5.477450647314999, 5.439026355115859, 5.372753456313869,
		5.319141401238663, 5.219204330791177, 5.213445044717935,
		5.1400539665319, 5.114649136824137, 5.208344169510648,
		5.1724774529819655, 5.177379789556817, 5.109420996668946,
		5.062853976051847, 5.039364239750297, 5.086187405560467,
		5.150103125728929, 5.19047669283796, 5.184849700394039,
		5.186582895712276, 5.129946575143229, 5.0132860312697405,
		5.021885850193141, 4.898367641203256, 4.881891615989062,
		4.905228081547901, 4.977197793704226, 4.933265409079349,
		5.000751911976997, 5.0049514382017275, 5.132693753742187,
		5.1280412971982265, 5.318360129186779, 5.349703479330543,
		5.366298179506964, 5.51827531522669, 5.510095262261182,
		5.458825046073934, 5.400001400604881, 5.490271178942506,
		5.457651019369513, 5.583494375876213, 5.635506055285959,
		5.522724441032417, 5.609598716008573, 5.624027280699346,
		5.613093418632688, 5.4460695043005805, 5.423658485757326,
		5.4654680826830395, 5.57395099261173, 5.754332919447885,
		5.721914759912437, 5.6599247249729014, 5.775743945556069,
		5.882464545464003, 5.883779993624006, 5.906498753687949,
		5.84946282881811, 5.705215904002697, 5.582751834758483,
		5.466055791972073, 5.492120727631345, 5.6601082465925145,
		5.720694895259008, 5.656352731100987, 5.562722898918572,
		5.633048371268344, 5.598707801612058, 5.71261369528944,
		5.7045775741366995, 5.643590988597729, 5.595206002958606,
		5.616187341866225, 5.510438695471622, 5.620034176120788,
		5.652904403705049, 5.687531610629981, 5.720790424099461,
		5.800374068306156, 5.8146725695250705, 5.784910488045452,
		5.784689461519744, 5.828267713966398, 5.993550599842384,
		6.026012497485976, 6.0007484211983355, 5.9035377904069355,
		6.183933879269322, 6.120382167129003, 6.107460573267096,
		6.017752672808629, 6.077827044490172, 6.154995966452072,
		6.040296980195127, 6.1006114159008975, 6.0357411897039075,
		6.033905735999072, 6.120377988644714, 6.024909165090956,
		5.970161375704869, 6.008606733659319, 6.112658476008194,
		6.058743980285435, 6.054708416349895, 5.946571365891706,
		5.958338587851239, 5.9851696224717506, 6.000116129372936,
		5.771666054535239, 5.850525024687842, 5.82202324508616,
		5.805088154831416, 5.763367338642934, 5.943125197797711,
		5.99104556580975, 5.816854405930744, 5.7169727060938875,
		5.640272253578905, 5.664402621141206, 5.657234305391512,
		5.67938541777696, 5.663226349877226, 5.5737970193764586,
		5.539875787480836, 5.467639616301696, 5.155337490819231,
		5.136563617488422, 5.125003447999216, 5.136176053306684,
		5.163254375110515, 5.1742649107254985, 5.10785321089834,
		5.14013547596053, 5.221149050675522, 5.248748711286404,
		5.174849574473741, 5.157838815826257, 5.166629880319905,
		5.282732296070589, 5.287248541437695, 5.2274025748598225,
		5.333802510900855, 5.338205125896573, 5.335677468410228,
		5.422080434160234, 5.362933708311264, 5.252011797998942,
		5.190248437539023, 5.095944185522523, 5.028834928226135,
		5.013542748309933, 5.046763331389317, 5.033788811238801,
		4.932147376013491, 4.924978278202417, 4.9693324087570785,
		4.988493347732537, 4.950065278808347, 5.025301548122793,
		5.097116971700657, 4.955378227728375, 4.87612487229709,
		4.9479088734440415, 5.122584110994606, 5.0994996220553865,
		5.062025195731345, 5.0576463121093385, 4.970639410417918,
		4.950367870334999, 5.009591482302476, 4.941166607154186,
		4.96781324035416, 5.043045070463521, 5.089742878504468,
		5.03583923242162, 5.060588919792224, 4.982651046542155,
		5.0257624683305835, 4.956181142835024, 5.000732521663622,
		5.018436545377865, 4.95826889441774, 4.985828219629396,
		5.0761564096637315, 5.215001957941402, 5.273486206976286,
		5.252720129168604, 5.313731435416977, 5.346589004857565,
		5.407303282395892, 5.453754003109432, 5.5143852878357436,
		5.4191664320536885, 5.485226587186687, 5.4570874815459325,
		5.431120697938515, 5.478614591134851, 5.494062027929962,
		5.888461125443941, 5.91293903511966, 5.924827555058048,
		5.726880153680869, 5.795956966997803, 5.652416831054142,
		5.673465214645327, 5.678573843017367, 5.615941574163103,
		5.598722938927007, 5.625709806862706, 5.581323632696072,
		5.581871959824477, 5.560423257658422, 5.511227790541898,
		5.464138519373908, 5.465444566434334, 5.422919877773336,
		5.513334178966796, 5.5775295166185765, 5.587543715440059,
		5.555184502154463, 5.700470366526162, 5.706876519147108,
		5.672402484675837, 5.756494618023003, 5.7934591422756565,
		5.845298947267842, 5.818408083041047, 5.854382652306396,
		5.9113078436178474, 5.477208074750689, 5.44780052042607,
		5.4631424525267045, 5.470354717620258, 5.4820447049944185,
		5.572173804477114, 5.529384223304385, 5.548806358753651,
		5.5382649897279554, 5.590078634011693, 5.457193751464388,
		5.160727761234249, 5.147633177011903, 5.1242949084121125,
		5.076282354847987, 5.250114236526845, 5.199092134757143,
		5.279621993197506, 5.15818698397601, 5.154922060354875,
		5.041153919318625, 4.7629470403023655, 4.808740389112547,
		4.822873651368173, 5.135967369804863, 5.428277353956731,
		5.32424522662158, 5.331803504656628, 5.478600958889159,
		5.458278728191872, 5.397725278338878, 5.466262790769481,
		5.485197865787937, 5.433103233564063, 5.6170181787386335,
		5.350607574181978, 5.318074066220243, 5.283086135123086,
		5.337355992135178, 5.519851146208912, 5.913067283012502,
		5.921946851049518, 6.12203149029188, 6.282850681844119,
		6.283241263188791, 6.321477822156791, 6.189216850183063,
		6.156767749848073, 6.073022204796506, 6.177706313878396,
		6.32711398129191, 6.346182972673646, 6.29328976875935,
		6.512604298389938, 6.747368329282685, 6.745527405136489,
		6.935952059011489, 7.054697656096426, 7.133771453250912,
		7.201328092246007, 7.194347631450665, 7.21256344669196,
		7.239031675678362, 7.22804748621547, 6.909361925590768,
		6.830267970908259, 7.160033091422455, 7.126456229153398,
		7.058271494329262, 6.944443697494245, 6.924846765524837,
		6.863355959953348, 6.979806424098119, 7.04903872357544,
		7.317016003960138, 7.381380125307728, 7.404841543650644,
		7.382671094335722, 7.407131503609298, 7.417160078653237,
	],
	dates: [
		1624165317872, 1624169007365, 1624172528484, 1624176216709,
		1624179743325, 1624183372222, 1624186994437, 1624190512684,
		1624194206553, 1624197715840, 1624201649885, 1624204804205,
		1624208465159, 1624212088988, 1624215651355, 1624219281118,
		1624222891198, 1624226457036, 1624230083192, 1624233695217,
		1624237293645, 1624240864796, 1624244490956, 1624248107720,
		1624251666460, 1624255275387, 1624258888691, 1624262470190,
		1624266065293, 1624270282477, 1624273275286, 1624276856285,
		1624280433431, 1624284050131, 1624287637085, 1624291447231,
		1624295089140, 1624298563582, 1624302152783, 1624305801865,
		1624309340827, 1624313072229, 1624316601533, 1624320428167,
		1624323753878, 1624327379094, 1624331023561, 1624334783461,
		1624338229287, 1624341992365, 1624345295718, 1624348934512,
		1624352518914, 1624356209117, 1624359824874, 1624363369372,
		1624366898930, 1624370553548, 1624374135627, 1624378058090,
		1624381442175, 1624385042560, 1624388661375, 1624392196903,
		1624396091843, 1624399648036, 1624403000779, 1624406631773,
		1624410299674, 1624413851350, 1624417391904, 1624421348564,
		1624424599626, 1624428122749, 1624431874875, 1624435658555,
		1624439067869, 1624446258005, 1624449823798, 1624453758191,
		1624456901449, 1624460592903, 1624464146131, 1624467744146,
		1624471431707, 1624475000396, 1624478539642, 1624482188907,
		1624485704062, 1624489346145, 1624492909812, 1624496579760,
		1624500133213, 1624503693853, 1624507299002, 1624510924995,
		1624514495335, 1624518132194, 1624521714968, 1624525278006,
		1624528929662, 1624532552003, 1624536108830, 1624539708264,
		1624543266904, 1624546905005, 1624550564927, 1624554099399,
		1624557741161, 1624561310064, 1624564941194, 1624568474154,
		1624572085854, 1624575810917, 1624579391688, 1624582987797,
		1624586600660, 1624590095647, 1624593710094, 1624597320371,
		1624600969597, 1624604647558, 1624608297379, 1624611814279,
		1624615322293, 1624618909118, 1624622504666, 1624626150555,
		1624629817696, 1624633345837, 1624636890939, 1624640536329,
		1624644164540, 1624647765128, 1624651384453, 1624654893630,
		1624658600540, 1624662095693, 1624665741996, 1624669631226,
		1624672894506, 1624676593514, 1624680110543, 1624683715334,
		1624687404261, 1624690889892, 1624694523843, 1624698149125,
		1624701681168, 1624708960420, 1624712601046, 1624716195688,
		1624719757077, 1624723345288, 1624726902381, 1624730588063,
		1624734259010, 1624737804543, 1624741286527, 1624744921550,
		1624748562329, 1624752246405, 1624755704730, 1624759449539,
		1624762887162, 1624766515406, 1624770138178, 1624773709207,
		1624777321240, 1624781508745, 1624784553217, 1624788099051,
		1624791781802, 1624795346590, 1624798951256, 1624802546399,
		1624806134952, 1624809748260, 1624813348932, 1624817055984,
		1624820496968, 1624824095849, 1624827766213, 1624831331322,
		1624834932581, 1624838583961, 1624842189588, 1624845805297,
		1624849280547, 1624853022554, 1624856491527, 1624860093936,
		1624863722324, 1624867304048, 1624870955832, 1624874568262,
		1624878153429, 1624881785679, 1624885277987, 1624888909161,
		1624892641350, 1624898213574, 1624899754303, 1624903340784,
		1624906966435, 1624910549073, 1624914105920, 1624917722104,
		1624921323561, 1624924953272, 1624928507350, 1624932157531,
		1624935733887, 1624939404358, 1624942908540, 1624946568453,
		1624950107728, 1624953761467, 1624957316800, 1624960902013,
		1624964616816, 1624968183142, 1624971705660, 1624975350409,
		1624978925267, 1624982501995, 1624986135698, 1624993333227,
		1624996901295, 1625000576627, 1625004169485, 1625007771727,
		1625011307075, 1625018521338, 1625022122796, 1625025744832,
		1625029360563, 1625032931889, 1625036550880, 1625040223000,
		1625043850395, 1625047325190, 1625051179706, 1625054602534,
		1625058112401, 1625061770653, 1625065334515, 1625069216542,
		1625072618552, 1625079745372, 1625083366671, 1625086930792,
		1625097805442, 1625101323406, 1625104938952, 1625108647234,
		1625112177367, 1625115747398, 1625122943807, 1625126525200,
		1625130155547, 1625133774729, 1625137331614, 1625141011686,
		1625144650404, 1625148155565, 1625151832731, 1625155410492,
		1625158912848, 1625162555631, 1625166179321, 1625169712492,
		1625173386437, 1625176988445, 1625180534518, 1625184372818,
		1625187758996, 1625194890275, 1625198606989, 1625202100867,
		1625205817783, 1625209357002, 1625212961347, 1625216528893,
		1625220228923, 1625223797940, 1625227314802, 1625230915284,
		1625234582206, 1625238173629, 1625241751081, 1625245534183,
		1625248925238, 1625252492985, 1625256186567, 1625259727052,
		1625263344883, 1625266927218, 1625270536534, 1625277702733,
		1625281357852, 1625284916548, 1625288513628, 1625292127618,
		1625295715716, 1625299327584, 1625302905741, 1625306508664,
		1625310119344, 1625313695556, 1625317297169, 1625321002074,
		1625324540123, 1625328101191, 1625331706776, 1625335385137,
		1625339029274, 1625342619072, 1625346104020, 1625349731274,
		1625353549917, 1625360527839, 1625364128677, 1625367753715,
		1625371413826, 1625378552828, 1625382114259, 1625385699166,
		1625389370635, 1625392912211, 1625396492077, 1625400190487,
		1625403828396, 1625407486041, 1625410938475, 1625414564957,
		1625418204799, 1625421858435, 1625425348787, 1625429016892,
		1625432499594, 1625436156996, 1625443422878, 1625450569067,
		1625454150392, 1625457767090, 1625461284866, 1625464878914,
		1625468482125, 1625472103673, 1625475785624, 1625479345991,
		1625482876829, 1625486479946, 1625490140848, 1625493729697,
		1625497336652, 1625500935273, 1625504537772, 1625508224075,
		1625511744854, 1625515386490, 1625518933236, 1625522482009,
		1625526202379, 1625529786831, 1625533386584, 1625536965932,
		1625540498438, 1625544170284, 1625547869527, 1625551332243,
		1625554995294, 1625558550603, 1625562212114, 1625565875718,
		1625569317422, 1625572882901, 1625576478501, 1625583750476,
		1625584034530, 1625584044083, 1625587312529, 1625590885562,
		1625594513054, 1625598119134, 1625601678631, 1625605345992,
		1625608882854, 1625612487998, 1625616097646, 1625619714763,
		1625623287209, 1625626906338, 1625630489665, 1625637835348,
		1625641301800, 1625644973921, 1625648520694, 1625655702842,
		1625659281205, 1625662983003, 1625666500847, 1625670126744,
		1625673669767, 1625677276032, 1625680862791, 1625684483195,
		1625688162991, 1625691743479, 1625695278699, 1625698894152,
		1625702529882, 1625706198017, 1625709717284, 1625713331250,
		1625716949265, 1625720523425, 1625724139714, 1625727700254,
		1625731367446, 1625734967733, 1625738483460, 1625742065100,
		1625745720696, 1625749361987, 1625752904283, 1625756599226,
		1625760060451, 1625763681691, 1625767329029, 1625770896111,
		1625774482947, 1625781748471, 1625785278101, 1625791432943,
		1625792607511, 1625796160988, 1625799676750, 1625803313723,
		1625806862992, 1625810555981, 1625814081972, 1625817708949,
		1625821330698, 1625824878045, 1625828478765, 1625832099504,
		1625835715159, 1625839318032, 1625842947308, 1625846558090,
		1625850082194, 1625853751530, 1625857310545, 1625860931037,
		1625864578202, 1625868122825, 1625871854161, 1625875303973,
		1625878881837, 1625882487757, 1625886081337, 1625889736214,
		1625893421784, 1625896875625, 1625900490124, 1625904106337,
		1625907658411, 1625911297115, 1625914857908, 1625918526428,
		1625922087929, 1625925687104, 1625929317297, 1625932876944,
		1625936557802, 1625940182370, 1625943713425, 1625947344104,
		1625950912966, 1625954513979, 1625958113886, 1625961764157,
		1625965309432, 1625968923246, 1625972482534, 1625976162984,
		1625979674344, 1625986858507, 1625990469693, 1625994178447,
		1625997665401, 1626001282593, 1626004919444, 1626008484483,
		1626012134323, 1626015727071, 1626019321486, 1626026462864,
		1626030126325, 1626033667177, 1626037317011, 1626040875368,
		1626044504224, 1626048186480, 1626051710500, 1626055310280,
		1626058910941, 1626062519232, 1626066108882, 1626069718296,
		1626073268764, 1626076933180, 1626080507207, 1626084094253,
		1626087844761, 1626092015073, 1626095041814, 1626098572143,
		1626102248771, 1626109316859, 1626113351513, 1626116530013,
		1626120471055, 1626123805696, 1626127365323, 1626131156952,
		1626134631121, 1626138259853, 1626141846919, 1626145301065,
		1626148901428, 1626152482399, 1626156102740, 1626159792444,
		1626163336555, 1626170535292, 1626174092006, 1626177719887,
		1626181307272, 1626184961224, 1626188500191, 1626192120985,
		1626195739522, 1626199275931, 1626202918712, 1626206508554,
		1626210090493, 1626217333455, 1626220973223, 1626224570399,
		1626231729136, 1626235314645, 1626238919380, 1626242564022,
		1626246136490, 1626249670700, 1626253364081, 1626256893908,
		1626260524163, 1626264148006, 1626267707922, 1626271294585,
		1626274915997, 1626278534643, 1626285692740, 1626289282768,
		1626292898891, 1626296528281, 1626303721443, 1626310903072,
		1626314510598, 1626318223662, 1626321774709, 1626325282829,
		1626328900649, 1626332592082, 1626336107709, 1626339679153,
		1626343282863, 1626346937381, 1626350576650, 1626354153480,
		1626357686152, 1626361305673, 1626368575804, 1626372128997,
		1626375680102, 1626382923299, 1626386528618, 1626390100061,
		1626393731019, 1626397329896, 1626400896972, 1626404514931,
		1626408103578, 1626411730868, 1626415271014, 1626418928932,
		1626426072701, 1626433306002, 1626436895952, 1626440469964,
		1626444102315, 1626451274748, 1626454905193, 1626458487888,
		1626462083894, 1626465678271, 1626469289213, 1626472896122,
		1626476516256, 1626480172065, 1626483757786, 1626487318307,
		1626490873552, 1626494467700, 1626498117148, 1626501763318,
		1626505307577, 1626508955448, 1626512498801, 1626516141056,
		1626519730643, 1626523362401, 1626526963230, 1626530471008,
		1626534132380, 1626537700223, 1626541302366, 1626544922944,
		1626548511105, 1626552087276, 1626555669034, 1626559284091,
		1626566500256, 1626570031846, 1626573754656, 1626577340205,
		1626584511068, 1626588183951, 1626591700386, 1626595298967,
		1626598908129, 1626602481988, 1626606145556, 1626609686160,
		1626613316505, 1626616886794, 1626620538919, 1626624137104,
		1626627701655, 1626631312670, 1626634898024, 1626638546708,
		1626642158434, 1626645759554, 1626649345894, 1626652892361,
		1626656504029, 1626660103176, 1626663693885, 1626667331907,
		1626670917363, 1626674523635, 1626678115967, 1626681696365,
		1626688883828, 1626692477894, 1626696076446, 1626699714582,
		1626703324112, 1626706978434, 1626710573761, 1626714117123,
		1626717703615, 1626721326865, 1626724927082, 1626728533999,
		1626732125459, 1626735727440, 1626739320164, 1626742902181,
		1626746509767, 1626750205084, 1626753736096,
	],
	max: 8.900592094383883,
	min: 2.2208294164657536,
}

const RadioGroup = styled(Radio.Group)`
	.ant-radio-button-wrapper {
		${(props) =>
			props.theme.type === 'dark'
				? `background: ${props.theme.secondary.background};`
				: `background: ${props.theme.primary.background};`}
		${(props) =>
			props.theme.type === 'dark'
				? `color: ${props.theme.primary.font};`
				: ''}

		border: 0px;
		border-radius: 0px;
		padding: 0 10px;
		opacity: 0.5;
		order-color: #2eabd9 !important;
	}
	.ant-radio-button-wrapper-checked {
		opacity: 1;
	}
	.ant-radio-button-wrapper:not(:first-child)::before {
		display: none;
	}
`

const StyledCard = styled(Card)`
	margin-bottom: 16px;
	height: 357px;
	background: ${(props) => props.theme.secondary.background};
	border-color: ${(props) => props.theme.secondary.border};

	.loading-icon {
		position: absolute;
		top: 50%;
		left: 50%;
		opacity: 0.4;
		font-size: 30px;
	}

	&[data-is-loading='true'] {
		svg {
			opacity: 0.5;
		}
	}

	.ant-card-body {
		padding: 0 !important;
	}

	.ant-card-head {
		border-color: ${(props) => props.theme.secondary.border};
	}
`
const StyledText = styled.span`
	color: ${(props) => props.theme.primary.font};
`

/**
 * Generates a sparkline graph card for YAX prices.
 */

// TODO //

const PriceGraph: React.FC = () => {
	// const [data, setData] = useState<any>({ values: [], max: 0, min: 0 })
	const [isLoading] = useState(false)
	const [selectedDay, setDate] = useState<SelectableDay>(dayOptions[3])

	const windowWidth = useWindowWidth()
	const chartWidth = useMemo(() => {
		if (windowWidth < 725) return windowWidth
		if (windowWidth < 992) return Math.round(windowWidth * 0.74)
		if (windowWidth < defaultBaseTheme.siteWidth + 300)
			return Math.round(windowWidth * 0.53)

		return 733
	}, [windowWidth])

	const handleChange = (e: any) => {
		const day =
			dayOptions.find(
				(day: SelectableDay) => day.name === e.target.value,
			) || dayOptions[3]
		if (day) setDate(day)
	}

	// const getData = useCallback(async () => {
	// 	setLoading(true)
	// 	await getYAXPriceData(selectedDay, setData)
	// 	setLoading(false)
	// }, [selectedDay])

	// useEffect(() => {
	// 	getData()
	// }, [selectedDay, getData])

	return (
		<StyledCard
			title={
				<Row>
					<Col style={{ paddingRight: '10px' }}>
						<StyledText>
							<strong>Total Balance:</strong>
						</StyledText>
					</Col>
					<Col>
						<StyledText>$200,462.73</StyledText>
					</Col>
				</Row>
			}
			extra={
				<RadioGroup
					className="range-selector"
					value={selectedDay.name}
					onChange={handleChange}
				>
					{dayOptions.map((day) => (
						<Radio.Button key={day.name} value={day.name}>
							{day.name}
						</Radio.Button>
					))}
				</RadioGroup>
			}
		>
			<WithTooltip
				renderTooltip={({ index }) => {
					const date = moment(data.dates[index]).format(
						'Do MMM YY @ HH:mm',
					)
					const price = data.values[index].toFixed(2)

					return (
						<Fragment>
							<div>{date}</div>
							<div>${price}</div>
						</Fragment>
					)
				}}
				tooltipTimeout={500}
			>
				<Sparkline
					width={chartWidth}
					height={270}
					data={data.values}
					ariaLabel="yAxis price graph"
				>
					<LineSeries strokeWidth={1} stroke="#016EAC" />
					<PointSeries points={['all']} size={0} stroke="none" />
				</Sparkline>
			</WithTooltip>

			{isLoading && <LoadingOutlined className={'loading-icon'} />}
		</StyledCard>
	)
}

export default PriceGraph
